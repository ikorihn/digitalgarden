<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Network on</title><link>https://ikorihn.github.io/digitalgarden/tags/Network/</link><description>Recent content in Network on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 07 Dec 2022 12:37:00 +0900</lastBuildDate><atom:link href="https://ikorihn.github.io/digitalgarden/tags/Network/index.xml" rel="self" type="application/rss+xml"/><item><title>dnsmasqをコンテナ内に立ててDNS問い合わせをキャッシュする</title><link>https://ikorihn.github.io/digitalgarden/note/dnsmasq%E3%82%92%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%86%85%E3%81%AB%E7%AB%8B%E3%81%A6%E3%81%A6DNS%E5%95%8F%E3%81%84%E5%90%88%E3%82%8F%E3%81%9B%E3%82%92%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5%E3%81%99%E3%82%8B/</link><pubDate>Wed, 07 Dec 2022 12:37:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/dnsmasq%E3%82%92%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%86%85%E3%81%AB%E7%AB%8B%E3%81%A6%E3%81%A6DNS%E5%95%8F%E3%81%84%E5%90%88%E3%82%8F%E3%81%9B%E3%82%92%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5%E3%81%99%E3%82%8B/</guid><description>dnsmasq は小規模なネットワーク向けのDNS、DHCPサーバー。 DNSのキャッシュくらい、デフォルトであるものだと思っていたけどLinuxはそうではないようなので、こういうソフトウェアを入れてキャッシュさせる
yum でインストールして、設定ファイルを書き換える
dnsmasqをインストールすると、 /etc/dnsmasq.conf という設定ファイルが生成されるので、コメントアウトを外す とりあえず以下を設定する
1 2 3 domain-needed #ドメインの無いホスト名のみ問い合わせの場合、上位DNSサーバに転送しない bogus-priv #プライベートIPアドレスの逆引きを上位DNSサーバに転送しない resolv-file #上位DNSサーバの設定 1 2 3 4 5 6 7 8 9 FROMamazonlinux:2RUN yum install -y dnsmasq systemdRUN echo &amp;#39;nameserver 8.</description></item></channel></rss>