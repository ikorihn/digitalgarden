<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on</title><link>https://ikorihn.github.io/digitalgarden/tags/Linux/</link><description>Recent content in Linux on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 05 Apr 2023 16:47:00 +0900</lastBuildDate><atom:link href="https://ikorihn.github.io/digitalgarden/tags/Linux/index.xml" rel="self" type="application/rss+xml"/><item><title>yum カスタムリポジトリを作成してそこからインストールする</title><link>https://ikorihn.github.io/digitalgarden/note/yum-S3%E3%81%AB%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%81%9D%E3%81%93%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B/</link><pubDate>Wed, 05 Apr 2023 16:47:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/yum-S3%E3%81%AB%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%81%9D%E3%81%93%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B/</guid><description>自前のyumリポジトリサーバを構築し、そのリポジトリからインストールできるようにする。
参考 (CentOS7)プライベート環境に必要なパッケージのみ提供するyumリポジトリサーバを構築する - zaki work log S3にyumリポジトリを作成してプライベートサブネットから参照する | Awstut
手順 ディレクトリを作成 とりあえず /tmp/repo に作る
1 mkdir -p /tmp/repo/ 配置したいrpmパッケージをダウンロード curlやwgetでも良いが、今回は yumdownloader を使う。入っていなければ yum install yum-utils zstdのrpmを入れてみる</description></item><item><title>yum パッケージバージョンを指定してインストールする</title><link>https://ikorihn.github.io/digitalgarden/note/yum-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B/</link><pubDate>Tue, 04 Apr 2023 18:53:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/yum-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 $ yum --showduplicates search java-17- Loaded plugins: ovl, priorities ============================================================================== N/S matched: java-17- =============================================================================== 1:java-17-amazon-corretto-17.</description></item><item><title>CentOS7とAmazonLinux2のDockerコンテナで日本語ロケールを設定する</title><link>https://ikorihn.github.io/digitalgarden/note/CentOS7%E3%81%A8AmazonLinux2%E3%81%AEDocker%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%A7%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%AD%E3%82%B1%E3%83%BC%E3%83%AB%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B/</link><pubDate>Tue, 04 Apr 2023 17:35:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/CentOS7%E3%81%A8AmazonLinux2%E3%81%AEDocker%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%A7%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%AD%E3%82%B1%E3%83%BC%E3%83%AB%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B/</guid><description>JavaのDateFormatterで、曜日を日本語表示しようとしたときに、ja_JPロケールが入っておらずできなかったので、方法を調べた。
CentOS7 参考:
CentOS 7 コンテナに消えない日本語ロケールを追加する - Qiita CentOSで日本語ロケール設定にするDockerfile - BLOG - siwa32.com Dockerのcentos7はデフォルトではja_JPのロケールが入っていない。
1 2 $ locale -a | grep ja | wc -l 0 /etc/yum.</description></item><item><title>セマフォ</title><link>https://ikorihn.github.io/digitalgarden/note/%E3%82%BB%E3%83%9E%E3%83%95%E3%82%A9/</link><pubDate>Tue, 14 Mar 2023 09:57:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/%E3%82%BB%E3%83%9E%E3%83%95%E3%82%A9/</guid><description>セマフォとは - 意味をわかりやすく - IT用語辞典 e-Words セマフォはコンピュータ上の共有資源について、利用可能な資源の数を指し示している。プログラムが資源を占有するときはセマフォの値から1を減じ、処理が終わって解放する際には1を加える。セマフォが0のときは空いている資源がないため正の値になるまで待機する。セマフォの値を同じ資源に同時にアクセスできるプロセスの数として扱う場合もある。
排他制御のための仕組み
Linux上でセマフォの数を確認する ipcs -s
1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ ipcs -s ------ Semaphore Arrays -------- key semid owner perms nsems 0x0052e2c1 0 postgres 600 17 0x0052e2c2 32769 postgres 600 17 0x0052e2c3 65538 postgres 600 17 0x0052e2c4 98307 postgres 600 17 0x0052e2c5 131076 postgres 600 17 0x0052e2c6 163845 postgres 600 17 0x0052e2c7 196614 postgres 600 17 0x00000000 629047303 apache 600 1 0x036c6761 588447766 root 600 17 0x036c6762 588480535 root 600 17 削除 ipcrm -s &amp;lt;semid&amp;gt;</description></item><item><title>WSL2 Ubuntu20.04の環境構築</title><link>https://ikorihn.github.io/digitalgarden/note/WSL2-Ubuntu20.04%E3%81%AE%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89/</link><pubDate>Mon, 09 Aug 2021 19:15:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/WSL2-Ubuntu20.04%E3%81%AE%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89/</guid><description>WSL2をデフォルトにする powershell
1 2 3 4 5 $ wsl --set-default-version 2 $ wsl -l -v NAME STATE VERSION * Legacy Stopping 1 Ubuntu-20.</description></item><item><title>UbuntuにLinuxbrewを入れる</title><link>https://ikorihn.github.io/digitalgarden/note/Ubuntu%E3%81%ABLinuxbrew%E3%82%92%E5%85%A5%E3%82%8C%E3%82%8B/</link><pubDate>Sun, 09 May 2021 16:27:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/Ubuntu%E3%81%ABLinuxbrew%E3%82%92%E5%85%A5%E3%82%8C%E3%82%8B/</guid><description>Curl, Gitのバージョンが古い 1 2 3 4 5 6 7 8 9 10 11 ~$ brew install curl Error: Please update your system curl.</description></item></channel></rss>