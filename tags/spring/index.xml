<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>spring on</title><link>https://ikorihn.github.io/digitalgarden/tags/spring/</link><description>Recent content in spring on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 08 Mar 2021 18:49:00 +0900</lastBuildDate><atom:link href="https://ikorihn.github.io/digitalgarden/tags/spring/index.xml" rel="self" type="application/rss+xml"/><item><title>spring-boot-configuration</title><link>https://ikorihn.github.io/digitalgarden/note/spring-boot-configuration/</link><pubDate>Mon, 08 Mar 2021 18:49:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/spring-boot-configuration/</guid><description>spring-boot-configuration Spring Boot で application.yml を Kotlin でバインディングできるようにしたい
環境 Spring Boot 2.4.0 Kotlin 1.4.10 きっかけ Spring Bootでは環境別に設定を切り替える仕組みとしてapplication.propertiesやapplication.ymlファイルを使えます。 application.ymlにカスタムプロパティを書きたい。</description></item><item><title>springdocでpolymorphismを表現するのが難しかった</title><link>https://ikorihn.github.io/digitalgarden/note/springdoc%E3%81%A7polymorphism%E3%82%92%E8%A1%A8%E7%8F%BE%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%8B%E3%81%A3%E3%81%9F/</link><pubDate>Mon, 18 Jan 2021 20:19:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/springdoc%E3%81%A7polymorphism%E3%82%92%E8%A1%A8%E7%8F%BE%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%8B%E3%81%A3%E3%81%9F/</guid><description>springdoc-bug nestしたpolymorphismがうまく反映されなかった
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 @Schema(description = &amp;#34;ルート詳細の1区間情報&amp;#34;) @JsonTypeInfo(use = JsonTypeInfo.</description></item><item><title>spring validation</title><link>https://ikorihn.github.io/digitalgarden/note/spring-validation/</link><pubDate>Tue, 29 Dec 2020 16:31:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/spring-validation/</guid><description>spring validation SpringFramework REST APIでパラメータをバリデーションしたい
@Validated, @Validをつけてもvalidationされなかった
2.3からvalidationライブラリが含まれなくなった https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters
対応 自分で入れる
結果 validationが効くようになった</description></item><item><title>springdoc</title><link>https://ikorihn.github.io/digitalgarden/note/springdoc/</link><pubDate>Tue, 29 Dec 2020 16:26:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/springdoc/</guid><description>springdoc SpringFramework でOpenAPI仕様書を作成するライブラリ
springfoxをやめた OAS3にイマイチたいおうしてない
oneOfが使えなかった https://swagger.io/docs/specification/data-models/inheritance-and-polymorphism/
やったこと
ライブラリ入れた OpenAPI()に変更した annotationをv3に変更した
https://www.b1a9idps.com/posts/springdoc-openapi-1 https://qiita.com/yukithm/items/fafc54bc331696b0c333 https://springdoc.org/#migrating-from-springfox https://github.com/springdoc/springdoc-openapi
oneOfで警告がでる https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java#L2319
before
1 2 3 4 5 6 7 8 9 @Schema( description = &amp;#34;1区間情報&amp;#34;, oneOf = [Section.</description></item><item><title>spring mock rest server</title><link>https://ikorihn.github.io/digitalgarden/note/spring-mock-rest-server/</link><pubDate>Mon, 28 Dec 2020 17:22:00 +0900</pubDate><guid>https://ikorihn.github.io/digitalgarden/note/spring-mock-rest-server/</guid><description>spring mock rest server SpringFramework のユニットテストでHTTPサーバーをmockする
RestTemplateをmockするか、RestTemplateの通信先をmockするか goのhttptest.Serverみたいな</description></item></channel></rss>